# 共通開発ガイドライン (Agent向け)

本文書は、複数のプロジェクトで共通して適用される開発規約と手順をまとめたものです。エージェントはこれらのガイドラインに従うことで、一貫性を保ち、開発プロセスを効率化することができます。

## 1. コーディング規約

### 1.1. フォーマッタ & リンター

コードの品質と一貫性を保つため、フォーマッタとリンターを使用します。プロジェクトで指定されたツール（例: **Biome**, **Prettier**, **ESLint**）の設定に従ってください。

-   **設定ファイル**: プロジェクトルートにある設定ファイル（例: `biome.json`, `.prettierrc`, `.eslintrc.js`）を確認してください。
-   **実行コマンド**: `package.json` の `scripts` に定義されているコマンド（例: `lint`, `format`）を使用してください。
-   **Pre-commit フック**: 多くのプロジェクトでは、コミット前に自動でフォーマットやリントを実行するGitフックが設定されています。これにより、規約に準拠していないコードがコミットされるのを防ぎます。

## 2. コミットメッセージ規約

コミットメッセージは、変更内容を明確に伝え、変更履歴を追いやすくするために重要です。


-   **規約**: [**Conventional Commits**](https://www.conventionalcommits.org/ja/v1.0.0/) 仕様に厳密に従ってください。
-   **フォーマット**:
    ```
    <type>[optional scope]: <description>

    [optional body]

    [optional footer(s)]
    ```
-   **主な `type`**:
    -   `feat`: 新機能の追加
    -   `fix`: バグ修正
    -   `docs`: ドキュメントのみの変更
    -   `style`: コードの意味に影響しない変更（空白、フォーマット、セミコロンなど）
    -   `refactor`: バグ修正でも機能追加でもないコードの変更
    -   `perf`: パフォーマンスを向上させるコードの変更
    -   `test`: 不足しているテストの追加や既存のテストの修正
    -   `chore`: ビルドプロセスや補助ツール、ライブラリの変更（ドキュメント生成など）
-   **リント**: `commit-msg` Git フックが `commitlint` などのツールを自動的に実行し、メッセージが規約に準拠しているか検証します。

## 3. ブランチ戦略

一貫したブランチ管理は、チーム開発を円滑に進めるために不可欠です。

-   **主要ブランチ**: `main` または `master` が、常にリリース可能な状態を保つ主要ブランチです。
-   **フィーチャーブランチ**:
    -   新機能の開発やバグ修正は、必ず `main` から分岐した新しいブランチで行います。
    -   ブランチ名は、その目的がわかるように命名してください。（例: `feat/add-user-authentication`, `fix/login-bug`）
-   **プルリクエスト (PR)**:
    -   作業が完了したら、`main` ブランチへのマージをリクエストするためにプルリクエストを作成します。
    -   PRは、CI（継続的インテグレーション）のチェックをパスし、コードレビューで承認された後にマージされます。

## 4. コミットとプルリクエストのワークフロー

コードの変更をコミットおよびプルリクエストする際には、ユーザーの確認を重視し、以下の手順に従います。

1.  **ステージングと確認**: `git add` でファイルをステージングした後、コミット対象のファイル一覧とコミットメッセージを提示し、コミットに進んでよいかユーザーに確認します。
2.  **実行**: ユーザーの承認後、コミットとプッシュを実行します。